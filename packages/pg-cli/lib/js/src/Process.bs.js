// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Process = require("process");
var TTY$PgCLI = require("./TTY.bs.js");
var Caml_option = require("rescript/lib/js/caml_option.js");
var Loggable$Errors = require("@typesafe-sql/rescript-errors/lib/js/Loggable.bs.js");

function exitWithLoggableError(showUsageOpt, err) {
  var showUsage = showUsageOpt !== undefined ? Caml_option.valFromOption(showUsageOpt) : undefined;
  TTY$PgCLI.error("ERROR!");
  TTY$PgCLI.printLoggable(err);
  if (showUsage !== undefined) {
    console.error("");
    console.error(TTY$PgCLI.Chalk.dim(Caml_option.valFromOption(showUsage)));
  }
  return Process.exit(1);
}

function exitWithError(showUsage, err) {
  return exitWithLoggableError(showUsage, Loggable$Errors.fromText(err));
}

exports.exitWithLoggableError = exitWithLoggableError;
exports.exitWithError = exitWithError;
/* process Not a pure module */
